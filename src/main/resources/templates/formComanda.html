<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="comandaLayout">

<section layout:fragment="formComanda">
	<div class="container">

		<form th:action="@{/comanda}" method="POST" th:object="${comanda}">
			<input type="hidden" th:field="*{codigo}" />

			<div class="row">
				<div class="col-md-2">
					<div class="form-group">
						<label for="codigo">Comanda</label> <input id="codigo"
							class="form-control" name="codigo" type="text"
							disabled="disabled" th:field="*{codigo}" />
					</div>
				</div>
				<div class="col-md-6"></div>
				<div class="col-md-2">
					<div class="form-group">
						<label for="status">Status</label> <select id="status"
							class="form-control" name="status">
							<option th:each="status : ${statusComanda}" th:value="${status}"
								th:text="${status}" th:field="*{status}"></option>
						</select>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-md-8">
					<div class="form-group">
						<label for="cliente">Cliente</label> <select id="cliente"
							class="form-control" name="cliente">
							<option th:each="cliente : ${todosClientes}"
								th:value="${cliente.codigo}" th:text="${cliente.nome}"
								th:field="*{cliente}"></option>
						</select>
					</div>
				</div>
				<div class="col-md-2">
					<div class="form-group">
						<label for="credito">Crédito</label> <input id="credito"
							class="form-control" name="credito" th:field="*{credito}" />
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-md-8">
					<div class="form-group">
						<label for="observacao">Observação</label> <input id="observacao"
							class="form-control" type="text" name="observacao"
							th:field="*{observacao}" />
					</div>
				</div>
				<div class="col-md-2">
					<div class="form-group">
						<label for="debito">Débito</label> <input id="debito"
							class="form-control" type="text" name="debito"
							th:field="*{debito}" />
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-md-2">
					<div class="form-group">
						<label for="mesa">Mesa</label> <select id="mesa"
							class="form-control" name="mesa">
							<option selected="selected"></option>
							<option th:each="mesa : ${todasMesas}" th:value="${mesa.codigo}"
								th:text="${mesa.descricao}" th:field="*{mesa}"></option>
						</select>
					</div>
				</div>
			</div>
			
			<select name="produto" multiple="multiple">
				<option th:each="produto : ${todosProdutos}" th:value="${produto.codigo}" th:text="${produto.descricao}"></option>
			</select>

			<!-- 
			<div th:if="*{codigo} != null">
				<div layout:include="comandaProdutos"></div>
			</div>
			 -->

			<button type="submit" class="btn btn-warning">Salvar</button>
		</form>
		<!-- fim form -->

		<form th:action="@{/comanda/novoProduto}" method="POST" th:object="${comanda}">
			<input  id="codigoComanda" type="hidden" th:field="*{codigo}" th:attr="comandaCodigo=${comanda.codigo}" />
			<input type="hidden" th:field="*{status}" />
			<input type="hidden" th:field="*{cliente}" />
			<input type="hidden" th:field="*{credito}" />
			<input type="hidden" th:field="*{observacao}" />
			<input type="hidden" th:field="*{debito}" />
			<input type="hidden" th:field="*{mesa}" />
			<div class="row">
				<div class="col-md-10">
					<div class="form-group">
						<label for="produtos">Produtos</label>
						<select id="produtos" name="produto" class="form-control" th:field="*{produto}">
							<option th:each="produto : ${todosProdutos}" th:text="${produto.descricao}" th:value="${produto.codigo}"></option>
						</select>
					</div>
				</div>
			</div>
			<a th:href="@{/comanda/novoProduto/}" class="btn btn-success js-add-produto" id="js-url">Inserir JS</a>
		</form>


		<div layout:include="buscaProdutoComanda"></div>
	</div>
</section>
</html>